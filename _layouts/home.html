---
layout: default
---

<section class="home py-5">
  <div class="container">
    <div class="row">
      <div class="col-lg-10 col-lg-10 col-md-12 col-sm-12 col-xs-12 mx-auto">
        {%- if page.title -%}
        <h1 class="page-heading">{{ page.title }}</h1>
        {%- endif -%}

        {{ content | markdownify }}

        {% if site.paginate %}
        {% assign posts = paginator.posts %}
        {% else %}
        {% assign posts = site.posts %}
        {% endif %}


        <!-- Hide posts if front matter flag hide:true -->
        {% assign posts = ''|split:'' %}
        {% for post in rawposts %}
        {% if post.hide != true %}
        {% assign posts = posts|push:post%}
        {% endif %}
        {% endfor %}

        <!-- Sort posts by rank, then date -->
        {% assign grouped_posts = posts | group_by: "sticky_rank" | sort: "name", "last" %}
        {% assign sticky_posts = ''|split:'' %}
        {% assign non_sticky_posts = '' | split:'' %}


        {% for gp in grouped_posts %}
        {%- if gp.name == "" -%}
        {% assign non_sticky_posts = gp.items | sort: "date" | reverse %}
        {%- else %}
        {% assign sticky_posts = sticky_posts | concat: gp.items %}
        {%- endif -%}
        {% endfor %}

        <!-- Assemble final sorted posts array -->
        {% assign sticky_posts = sticky_posts | sort: "sticky_rank", "last" %}
        {% assign posts = sticky_posts | concat: non_sticky_posts %}


        {%- if posts.size > 0 -%}
        {%- if page.list_title -%}
        <h2 class="post-list-heading">{{ page.list_title }}</h2>
        {%- endif -%}

        <!-- Posts Start -->
        <ul class="post-list">
          {%- assign date_format = site.struggle.date_format | default: "%b %-d, %Y" -%}
          {%- for post in posts -%}
          <li>
            {%- if site.show_image -%}
            {%- include post_list_image_card.html -%}
            {% else %}
            {%- include post_list.html -%}
            {%- endif -%}
          </li>
          {%- endfor -%}
        </ul>
        <!-- Posts End -->

        <!-- Paginate Start -->
        {% if site.paginate and site.posts.size > site.paginate %}
        <div class="pager">
          <ul class="pagination">
            {%- if paginator.previous_page %}
            <li>
              <a href="{{ paginator.previous_page_path | relative_url }}" class="previous-page">{{ paginator.previous_page }}</a>
            </li>
            {%- else %}
            <li>
              <div class="pager-edge">•</div>
            </li>
            {%- endif %}
            <li>
              <div class="current-page">{{ paginator.page }}</div>
            </li>
            {%- if paginator.next_page %}
            <li>
              <a href="{{ paginator.next_page_path | relative_url }}" class="next-page">{{ paginator.next_page }}</a>
            </li>
            {%- else %}
            <li>
              <div class="pager-edge">•</div>
            </li>
            {%- endif %}
          </ul>
        </div>
        {%- endif %}
        <!-- Paginate End -->

        {%- endif -%}
      </div>
    </div>
  </div>
</section>